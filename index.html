<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>TODO-LIST | Khalil Jamil Ahmad</title>
    <style>
        table, td{
            border:1px solid green;
            border-collapse: collapse;
        }
    </style>
</head>

<body>
    <h1>TODO-LIST</h1>
  
       <label for=""> What's your Schedule?</label>
        <textarea name="todo" id="todo" cols="30" rows="10"></textarea>
  
    <button onclick="done()">Add to list</button>
    <div>
        <table id="p1">
            <thead><td>My Schedule</td><td>Date and Time</td></thead>
            <tbody></tbody>
        </table>
    </div>
    <script>
        var todo = document.getElementById("todo")
        var index = 0
        var list = []
        
        var date = new Date();
        var current_date = date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate();
        var current_time = date.getHours() + ":" + date.getMinutes() + ":" + date.getSeconds();
        var date_time = current_date + " " + current_time;
        
        function done() {
            list.push({
                todo: todo.value,
                date_generated: date,

            })
            preview();
            console.log(list)

            todo.value = ""
           
        }
        function preview() {
            var items = document.querySelector("#p1 tbody")
            for (count = 1; count <= list.length; count++) {
                items = items += "<tr><td>" + list[count - 1].todo + "</td><td>" + date_time + "</td></tr>"
      
            }
            var array = document.getElementById("p1")
            array.innerHTML = (items)
        }
        //document.getElementById("p1").innerHTML = date_time;
 
 </script>

</body>

</html>